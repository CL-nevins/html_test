<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>状态机</title>
    <script src="../../assets/js/state-machine.js"></script>
  </head>
  <body>
    <p><a href="../../index.html">&lt;回首页</a></p>
    <p>状态模式</p>
    <p>
      状态机用来做轮播的话，想实现左右循环，就不要从 style.left
      的值去考虑，而是要从 index 切换的角度去考虑了，
    </p>
    <script>
      var fsm = new StateMachine({
        init: 'solid',
        transitions: [
          { name: 'melt', from: 'solid', to: 'liquid' },
          { name: 'freeze', from: 'liquid', to: 'solid' },
          { name: 'vaporize', from: 'liquid', to: 'gas' },
          { name: 'condense', from: 'gas', to: 'liquid' },
        ],
        methods: {
          onMelt: function () {
            console.log('I melted');
          },
          onFreeze: function () {
            console.log('I froze');
          },
          onVaporize: function () {
            console.log('I vaporized');
          },
          onCondense: function () {
            console.log('I condensed');
          },
        },
      });
      console.log('current state', fsm.state);
    </script>
  </body>
</html>
